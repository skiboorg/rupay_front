"use strict";(self["webpackChunkrupay_front"]=self["webpackChunkrupay_front"]||[]).push([[9797],{90664:(e,a,t)=>{t.d(a,{Z:()=>x});var l=t(59835),s=t(60499),n=t(43463),o=t(87270),d=t(13433),i=t(17779);const u=({hash:e,password:a})=>{try{const t=d.createDecipher("aes192",a),l=t.update(e,"hex","utf8")+t.final("utf8"),s=JSON.parse(l);return!!s.status&&s.seed}catch(t){return i.log(t),!1}};var c=t(17779);const r={props:["transactionInfo"]},m=Object.assign(r,{name:"PinCodeModal",emits:["pincode_ок"],setup(e,{emit:a}){const t=(0,n.s)();function d(e){const l=localStorage.getItem("hash"),s=u({hash:l,password:e});c.log(s),s?(a("pincode_ок"),t.togglePinCodeModalVisible()):(0,o.d)("negative","Неверный пинкод")}return(e,a)=>{const n=(0,l.up)("pin-code"),o=(0,l.up)("q-btn"),i=(0,l.up)("q-card-section"),u=(0,l.up)("q-card"),c=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(c,{modelValue:(0,s.SU)(t).pinCodeModalVisible,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.SU)(t).pinCodeModalVisible=e),persistent:"",maximized:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"bg-white fullscreen"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"flex column items-center justify-center fullscreen"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{showDigits:!1,onPincode_ready:d}),(0,l.Wm)(o,{class:"q-mt-md",onClick:a[0]||(a[0]=e=>(0,s.SU)(t).togglePinCodeModalVisible()),"no-caps":"",color:"negative",label:"Отмена"})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var p=t(32074),w=t(44458),f=t(63190),g=t(24455),_=t(69984),k=t.n(_);const v=m,x=v;k()(m,"components",{QDialog:p.Z,QCard:w.Z,QCardSection:f.Z,QBtn:g.Z})},99797:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Te});var l=t(59835),s=t(60499),n=t(86970),o=t(32743),d=t(76028),i=t(43463),u=t(46190),c=t(18910);const r={class:"q-mb-none q-mr-sm"},m=(0,l._)("div",{class:"",style:{height:"60px"}},null,-1),p={class:"text-right"},w=["href"],f=(0,l.Uk)("Дата"),g=(0,l.Uk)("Создатель"),_={style:{"max-width":"90%"},class:"ellipsis"},k=(0,l.Uk)("Подтверждений"),v=(0,l.Uk)("Размер"),x=(0,l.Uk)("Подпись"),W={style:{"max-width":"100%"},class:"ellipsis"},h=(0,l.Uk)("Получатель"),y={style:{"max-width":"90%"},class:"ellipsis"},b=(0,l.Uk)("Сумма"),U=(0,l.Uk)("Статус"),q=(0,l.Uk)("Выполнена"),S=(0,l.Uk)("Все данные транзакции"),z={style:{"word-break":"break-all"},class:""},Z={props:["transactionInfo"]},C=Object.assign(Z,{name:"TransactionInfo",setup(e){const a=(0,i.s)();return(t,o)=>{const d=(0,l.up)("q-btn"),i=(0,l.up)("q-header"),u=(0,l.up)("q-item-section"),c=(0,l.up)("q-item"),Z=(0,l.up)("q-badge"),C=(0,l.up)("q-list"),Q=(0,l.up)("q-card-section"),V=(0,l.up)("q-card"),I=(0,l.up)("q-dialog"),j=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(I,{modelValue:(0,s.SU)(a).transactionInfoModalVisible,"onUpdate:modelValue":o[0]||(o[0]=e=>(0,s.SU)(a).transactionInfoModalVisible=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{style:{width:"900px","max-width":"100vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{style:{position:"unset"},class:"text-white q-py-sm items-center flex justify-between"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(d,{label:"Назад","no-caps":"",icon:"las la-angle-left",unelevated:""},null,512),[[j]]),(0,l._)("p",r,"Транзакция #"+(0,n.zw)(e.transactionInfo.seqNo),1)])),_:1}),m,(0,l.Wm)(Q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("p",p,[(0,l._)("a",{class:"text-dark text-weight-medium",href:`https://scan.rupay.pro/index/blockexplorer.html?tx=${e.transactionInfo.seqNo}&lang=ru`,target:"_blank"}," Открыть в блок-эксплорере",8,w)]),(0,l.Wm)(C,{dense:"",separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[f])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.fullDate),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",_,(0,n.zw)(e.transactionInfo.creator),1),(0,l.Uk)(" "+(0,n.zw)(e.transactionInfo.creator_name?`${e.transactionInfo.creator_name}`:""),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.confirmations),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[v])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.size),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",W,(0,n.zw)(e.transactionInfo.signature),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[h])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",y,(0,n.zw)(e.transactionInfo.recipient),1),(0,l.Uk)(" "+(0,n.zw)(e.transactionInfo.recipient_name?`${e.transactionInfo.recipient_name}`:""),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[b])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.amount)+" "+(0,n.zw)(e.transactionInfo.asset_name),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[U])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{color:"positive","text-color":"white",style:{width:"30%"}},{default:(0,l.w5)((()=>[q])),_:1})])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding bg-grey-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[S])),_:1})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.transactionInfo,((e,a)=>((0,l.wg)(),(0,l.j4)(c,{class:"no-padding",key:a},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a),1)])),_:2},1024),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",z,(0,n.zw)(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var Q=t(32074),V=t(44458),I=t(16602),j=t(24455),H=t(63190),M=t(13246),P=t(490),A=t(76749),D=t(20990),F=t(62146),$=t(69984),B=t.n($);const K=C,L=K;B()(C,"components",{QDialog:Q.Z,QCard:V.Z,QHeader:I.Z,QBtn:j.Z,QCardSection:H.Z,QList:M.Z,QItem:P.Z,QItemSection:A.Z,QBadge:D.Z}),B()(C,"directives",{ClosePopup:F.Z});var O=t(61957),Y=t(90664),N=t(87270),R=t(23459),T=t(98030),E=t(17779);const J=(0,l._)("div",{class:"",style:{height:"50px"}},null,-1),G=(0,l.Uk)("Ваш баланс"),X=(0,l._)("p",{class:"text-bold q-mb-none"},"Основная информация",-1),ee=(0,l.Uk)("Кол-во отправляемого актива*"),ae=(0,l.Uk)("Адрес получателя*"),te={id:"video-container"},le=(0,l._)("video",{id:"qr-video"},null,-1),se=[le],ne=(0,l._)("p",{class:"text-bold q-mb-none"},"Сообщение к отправке",-1),oe=(0,l.Uk)("Заголовок сообщения"),de=(0,l.Uk)("Сообщение"),ie=(0,l.Uk)(" Подтверждение отправки актива "),ue=(0,l.Uk)("Актив"),ce=(0,l.Uk)("Количество"),re=(0,l.Uk)("Получатель"),me={style:{"word-break":"break-all"}},pe=(0,l.Uk)("Комиссия транзакции"),we={key:0},fe={key:1},ge=(0,l._)("p",{class:"text-caption text-white q-pa-md bg-negative"},"Внимание, если адрес получателя указан неверно, Вы не сможете вернуть средства назад",-1),_e={name:"SendAssetModal",props:{asset:Object},emits:["close"],setup(e,{emit:a}){const o=e,d=(0,i.s)(),{EraChain:r}=((0,c.tv)(),t(99407)),m=(0,u.c)(),p=(0,R.Q)();let w=(0,s.iH)(!1);const f=(0,s.iH)(!1),g=(0,s.iH)(!1);const _=(0,l.Fl)((()=>m.balances));(0,l.Fl)((()=>m.verifyPersonData));function k(){d.togglePinCodeModalVisible()}const v=(0,s.iH)({amount:"",address:"",title:"",message:"",encrypted:!1,fee:0,raw:0});function x(){v.value={amount:"",address:"",title:"",message:"",encrypted:!0,fee:0,raw:0}}async function W(){f.value=!f.value;const e=!0,a=await p.getKeyPair(),t=new r.Type.KeyPair(a),l={assetKey:o.asset.key,amount:v.value.amount};E.log(t),E.log(l);const s=await T.era.tranRawSendAsset(t,l,v.value.address,v.value.title,v.value.message,v.value.encrypted,e);E.log(s),s.error?(0,N.d)("negative",s.error.message):(v.value.fee=s.fee,v.value.raw=s.raw),f.value=!f.value}async function h(){f.value=!f.value;const e=await T.era.broadcast64(v.value.raw);E.log(e),e.error?((0,N.d)("negative",e.message),f.value=!f.value):((0,N.d)("info","Транзакция создана"),w.value=!1,f.value=!f.value,d.toggleSendAssetModalVisible())}function y(){a("close")}return(a,t)=>{const o=(0,l.up)("q-btn"),i=(0,l.up)("unconfirmed-tx-icon"),u=(0,l.up)("q-header"),c=(0,l.up)("q-item-section"),r=(0,l.up)("q-item"),m=(0,l.up)("q-input"),p=(0,l.up)("q-separator"),b=(0,l.up)("btn"),U=(0,l.up)("q-list"),q=(0,l.up)("q-card-section"),S=(0,l.up)("q-card"),z=(0,l.up)("q-dialog"),Z=(0,l.up)("q-card-actions"),C=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(z,{modelValue:(0,s.SU)(d).sendAssetModalVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,s.SU)(d).sendAssetModalVisible=e),persistent:"",class:(0,n.C_)({hidden:(0,s.SU)(d).isPageHidden}),onBeforeHide:y},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{style:{width:"900px","max-width":"100vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{style:{position:"unset"},class:"text-white q-py-sm items-center flex justify-between"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(o,{"no-caps":"",label:`Отправка актива ${e.asset.name}`,icon:"las la-angle-left",unelevated:""},null,8,["label"]),[[C]]),(0,l.Wm)(i)])),_:1}),J,(0,l.Wm)(q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-bold text-dark"},{default:(0,l.w5)((()=>[G])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)((0,s.SU)(_)[e.asset.key][0][1])+" "+(0,n.zw)(e.asset.name),1)])),_:1})])),_:1}),X,(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[ee])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{rounded:"",dense:"",outlined:"",type:"number",modelValue:v.value.amount,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value.amount=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[ae])),_:1})])),_:1}),(0,l.wy)((0,l._)("div",te,se,512),[[O.F8,g.value]]),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{rounded:"",dense:"",outlined:"",modelValue:v.value.address,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value.address=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(p,{class:"q-my-md"}),ne,(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[oe])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{rounded:"",dense:"",outlined:"",modelValue:v.value.title,"onUpdate:modelValue":t[2]||(t[2]=e=>v.value.title=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[de])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{rounded:"",type:"textarea",dense:"",outlined:"",modelValue:v.value.message,"onUpdate:modelValue":t[3]||(t[3]=e=>v.value.message=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(p,{class:"q-my-md"}),(0,l.Wm)(b,{label:"Отправить",onClick:k,disabled:!v.value.amount||!v.value.address,outline:!1},null,8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","class"]),(0,l.Wm)(z,{modelValue:(0,s.SU)(w),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,s.dq)(w)?w.value=e:w=e),persistent:"","transition-show":"scale","transition-hide":"scale",onBeforeHide:x},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"bg-white text-dark",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{class:"text-weight-bold"},{default:(0,l.w5)((()=>[ie])),_:1}),(0,l.Wm)(q,{class:"q-py-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:"",separator:"",class:"q-mb-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[ue])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.asset.name),1)])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[ce])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(v.value.amount)+" "+(0,n.zw)(e.asset.name),1)])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[re])),_:1}),(0,l.Wm)(c,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",me,(0,n.zw)(v.value.address),1)])),_:1})])),_:1}),(0,l.Wm)(r,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[pe])),_:1}),(0,l.Wm)(c,{class:"text-caption"},{default:(0,l.w5)((()=>["РОЛФ Тех.Аккаунт ruPay"===e.asset.maker_name?((0,l.wg)(),(0,l.iD)("span",we,(0,n.zw)(parseFloat(.01*v.value.amount).toFixed(5)),1)):(0,l.kq)("",!0),v.value.fee>0?((0,l.wg)(),(0,l.iD)("span",fe,"+ газ "+(0,n.zw)(v.value.fee)+" "+(0,n.zw)(e.asset.key<4e3?e.asset.name:"OLF"),1)):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1}),ge])),_:1}),(0,l.Wm)(Z,{class:"bg-white text-teal"},{default:(0,l.w5)((()=>[0===v.value.fee?((0,l.wg)(),(0,l.j4)(o,{key:0,label:"Расчет комиссии",rounded:"",loading:f.value,class:"q-mb-sm full-width",unelevated:"","no-caps":"",color:"info",onClick:W,outline:!1},null,8,["loading"])):((0,l.wg)(),(0,l.j4)(o,{key:1,label:"Подтвердить",rounded:"",loading:f.value,class:"q-mb-sm full-width",unelevated:"","no-caps":"",color:"positive",onClick:h,outline:!1},null,8,["loading"])),(0,l.wy)((0,l.Wm)(o,{label:"Отменить",rounded:"","no-caps":"",color:"negative",class:"full-width",unelevated:"",outline:"",loading:f.value},null,8,["loading"]),[[C]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)((0,s.SU)(Y.Z),{onPincode_ок:t[6]||(t[6]=e=>(0,s.dq)(w)?w.value=!0:w=!0)})],64)}}};var ke=t(13119),ve=t(50926),xe=t(11221),We=t(11821);const he=_e,ye=he;B()(_e,"components",{QDialog:Q.Z,QCard:V.Z,QHeader:I.Z,QBtn:j.Z,QCardSection:H.Z,QList:M.Z,QItem:P.Z,QItemSection:A.Z,QInput:ke.Z,QSeparator:ve.Z,QCheckbox:xe.Z,QCardActions:We.Z}),B()(_e,"directives",{ClosePopup:F.Z});const be=(0,l._)("div",{style:{height:"16px"}},null,-1),Ue={class:"page-body--top flex column items-center justify-evenly"},qe={class:"text-center q-mb-md"},Se=["src"],ze={class:"text-center q-mb-md"},Ze={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr 1fr","grid-gap":"10px"},class:"full-width text-dark"},Ce=(0,l._)("p",{class:"no-margin text-caption lh100"},[(0,l.Uk)("Отправить"),(0,l._)("br"),(0,l.Uk)("в сети RUPAY")],-1),Qe=(0,l._)("p",{class:"no-margin text-caption lh100"},[(0,l.Uk)("Получить"),(0,l._)("br"),(0,l.Uk)("в сети RUPAY")],-1),Ve=(0,l._)("p",{class:"no-margin text-caption"},"Обмен",-1),Ie=(0,l._)("p",{class:"no-margin text-caption lh100"},[(0,l.Uk)("Отправить на"),(0,l._)("br"),(0,l.Uk)("РОЛФ")],-1),je=(0,l._)("p",{class:"no-margin text-caption lh100"},[(0,l.Uk)("Внести паевой"),(0,l._)("br"),(0,l.Uk)("взнос")],-1),He={class:""},Me={class:"flex items-center justify-between q-pa-md"},Pe=(0,l._)("p",{class:"q-mb-none"},"История транзакций",-1),Ae={class:"asset-date q-pa-md bg-grey-2 q-mb-none"},De={style:{"max-width":"70%"},class:"ellipsis inline-block"},Fe={key:0,class:"text-center q-pa-md"},$e={components:{TransactionInfo:L,SendAssetModal:ye}},Be=Object.assign($e,{name:"Asset",setup(e){const a=(0,i.s)(),t=(0,u.c)(),r=(0,c.yj)(),m="https://scan.rupay.pro";let p=(0,s.iH)(0),w=(0,s.iH)({}),f=(0,s.iH)([]),g=(0,s.iH)(!1),_=(0,s.iH)(0);const k=(0,l.Fl)((()=>t.addresses[t.currentAddressIdx].address)),v=(0,l.Fl)((()=>o.ZP.isEmpty(f.value))),x=(0,l.Fl)((()=>t.assets[p.value])),W=(0,l.Fl)((()=>t.balances[x.value.key][0][1])),h=(0,l.Fl)((()=>W.value*x.value.course));async function y(e,a){g.value=!g.value;const t=await(0,d.sg)(k.value,x.value.key,e,a);f.value=o.ZP.groupBy(t,"timestamp"),g.value=!g.value}async function b(){_.value+=50,await y(50,_.value)}return(0,l.bv)((async()=>{p.value=r.params.asset_key,await y(50,_.value)})),(e,t)=>{const o=(0,l.up)("page-header"),d=(0,l.up)("q-avatar"),i=(0,l.up)("q-icon"),u=(0,l.up)("q-btn"),c=(0,l.up)("q-item-section"),r=(0,l.up)("q-item-label"),p=(0,l.up)("q-item"),U=(0,l.up)("q-list"),q=(0,l.up)("q-scroll-area"),S=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(o),be,(0,l._)("div",Ue,[(0,l._)("div",qe,[(0,l.Wm)(d,{size:"50px",class:"q-mr-md"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:(0,s.SU)(m)+(0,s.SU)(x).iconURL,alt:""},null,8,Se)])),_:1})]),(0,l._)("div",ze,[(0,l._)("p",{class:(0,n.C_)(["text-bold text-h6 text-dark no-margin",{blur:e.$global.isBlur}])},(0,n.zw)((0,s.SU)(W))+" "+(0,n.zw)((0,s.SU)(x).name),3),(0,l._)("p",{class:(0,n.C_)(["text-weight-medium text-body1 text-dark no-margin",{blur:e.$global.isBlur}])},"~ "+(0,n.zw)(e.$filters.convertAmount((0,s.SU)(h)))+" ₽",3)]),(0,l._)("div",Ze,[(0,l.Wm)(u,{stack:"",onClick:t[0]||(t[0]=e=>(0,s.SU)(a).toggleSendAssetModalVisible()),color:"primary",unelevated:"","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"white",size:"22px",name:"las la-upload"}),Ce])),_:1}),(0,l.Wm)(u,{stack:"",onClick:t[1]||(t[1]=a=>e.$router.push(`/wallet/receive?asset=${(0,s.SU)(x).key}&amount=0`)),color:"primary",unelevated:"","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"white",size:"22px",name:"las la-download"}),Qe])),_:1}),(0,l.Wm)(u,{stack:"",onClick:t[2]||(t[2]=a=>e.$router.push({name:"wallet_exchange"})),color:"primary",unelevated:"","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"white",size:"22px",name:"las la-exchange-alt"}),Ve])),_:1}),1643===(0,s.SU)(x).key?((0,l.wg)(),(0,l.j4)(u,{key:0,stack:"",onClick:t[3]||(t[3]=a=>e.$router.push({name:"send_rub_to_rolf"})),color:"primary",unelevated:"","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"white",size:"22px",name:"las la-puzzle-piece"}),Ie])),_:1})):(0,l.kq)("",!0),2===(0,s.SU)(x).key?((0,l.wg)(),(0,l.j4)(u,{key:1,stack:"",onClick:t[4]||(t[4]=a=>e.$router.push({name:"buy_part"})),color:"primary",unelevated:"","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"white",size:"22px",name:"las la-puzzle-piece"}),je])),_:1})):(0,l.kq)("",!0)])]),(0,l._)("div",He,[(0,l._)("div",Me,[Pe,(0,l.Wm)(i,{onClick:t[5]||(t[5]=e=>((0,s.dq)(_)?_.value=0:_=0,y(50,(0,s.SU)(_)))),name:"las la-sync",color:"primary",size:"26px",class:(0,n.C_)({rotate:(0,s.SU)(g)})},null,8,["class"])]),(0,l.Wm)(q,{style:{height:"50vh",width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{style:{width:"100%"},separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,s.SU)(f),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"",key:t},[(0,l._)("p",Ae,(0,n.zw)(t),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,((e,t)=>((0,l.wg)(),(0,l.j4)(p,{clickable:"",style:{"z-index":"-1"},onClick:t=>((0,s.dq)(w)?w.value=e:w=e,(0,s.SU)(a).toggleTransactionInfoModalVisible()),key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{avatar:""},{default:(0,l.w5)((()=>[(0,s.SU)(k)!==e.creator&&1===Math.sign(e.amount)?((0,l.wg)(),(0,l.j4)(i,{key:0,color:"positive",name:"las la-arrow-down"})):((0,l.wg)(),(0,l.j4)(i,{key:1,color:"negative",name:"las la-arrow-up"}))])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[e.message?((0,l.wg)(),(0,l.j4)(r,{key:0,overline:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.message),1)])),_:2},1024)):((0,l.wg)(),(0,l.j4)(r,{key:1,overline:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.actionName),1)])),_:2},1024)),(0,l.Wm)(r,{caption:""},{default:(0,l.w5)((()=>[(0,l._)("span",De,(0,n.zw)((0,s.SU)(k)!==e.creator&&1===Math.sign(e.amount)?"от":"кому")+" "+(0,n.zw)((0,s.SU)(k)!==e.creator&&1===Math.sign(e.amount)?e.creator:e.recipient),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(parseFloat(e.amount).toFixed(4)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])))),128))])),_:1}),(0,s.SU)(v)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Fe,[(0,l.Wm)(u,{rounded:"",color:"primary",label:"Загрузить еще",loading:(0,s.SU)(g),"no-caps":"",outline:"",icon:"add",onClick:b},null,8,["loading"])]))])),_:1})]),(0,l.Wm)((0,s.SU)(L),{"transaction-info":(0,s.SU)(w)},null,8,["transaction-info"]),(0,l.Wm)((0,s.SU)(ye),{asset:(0,s.SU)(x),onClose:t[6]||(t[6]=e=>y(50,0))},null,8,["asset"])])),_:1})}}});var Ke=t(69885),Le=t(61357),Oe=t(22857),Ye=t(66663),Ne=t(33115);const Re=Be,Te=Re;B()(Be,"components",{QPage:Ke.Z,QAvatar:Le.Z,QBtn:j.Z,QIcon:Oe.Z,QScrollArea:Ye.Z,QList:M.Z,QItem:P.Z,QItemSection:A.Z,QItemLabel:Ne.Z})}}]);