"use strict";(self["webpackChunkrupay_front"]=self["webpackChunkrupay_front"]||[]).push([[297],{66297:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Z});var t=l(59835),s=l(60499),o=l(86970),n=l(39981),u=l.n(n),d=l(46190),i=l(99407),r=l(98030),c=l(87270),p=l(23459),v=l(91569),m=l(17779);const _={class:"marketplace"},g={class:"container"},b=(0,t._)("h3",{class:"main-grid__text_top_heading"},[(0,t._)("span",null,"Добро пожаловать "),(0,t._)("br"),(0,t.Uk)(" в раздел IDO ")],-1),w=(0,t._)("p",{class:"text-h6 text-bold"},"Что это такое?",-1),x=(0,t._)("p",{class:"text-body1"},[(0,t._)("span",{class:"text-bold"},"IDO (initial dex offering) — первое публичное размещение токенов на децентрализованных (dex) биржах."),(0,t.Uk)("Разработчики привлекают деньги инвесторов при поддержке децентрализованных бирж, которые используют пулы ликвидности. "),(0,t._)("span",{class:"text-bold"},"Инвесторы могут быстро приобретать выходящие в оборот токены по низким ценам, зарабатывая на последующем росте курса.")],-1),y=(0,t._)("p",{class:"text-body1"},"Проще говоря - на данной странице у вас есть возможность принять участие в новых проектах, путем инвестирования OLF в эти стартапы.",-1),F=(0,t._)("p",{class:"text-body1"},"Что для этого необходимо и как это работает?",-1),f=(0,t._)("p",{class:"text-body1"},"Для того, чтобы получить доступ к стартапам на нашей площадке необходимо иметь неснижаемый баланс на IDO-кошельке в размере 100 OLF. При таком балансе вы получаете право на первоочередное приобретение токенов по самой низкой цене на этапе Pre-sale.",-1),h=(0,t._)("p",{class:"text-body1"},"Если ваш баланс составляет 100 OLF, то вы получаете право на участие в 1 (Одном) Pre-sale в счет этого баланса (на сумму от 0 до 100 OLF в эквиваленте цены желаемого токена). Количество стартапов не ограниченно, но для доступа ко всем баланс должен быть не менее 100 OLF.",-1),U={key:0,class:""},k={class:"row q-col-gutter-md"},O={class:"col-12 col-md-6"},S={class:"text-h6 text-bold"},D={class:"text-h6 text-bold"},q={class:"col-12 col-md-6"},L={key:0},I={class:"text-h6 text-bold"},P={class:"text-h6 text-bold"},H={key:1,class:"text-h6 text-bold"},z={key:1,class:""},C=(0,t._)("p",{class:"text-h6 text-bold"},"Вы не вошли в кошелек RUPAY",-1),V=[C],Q={name:"Ido",setup(e){const a=(0,d.c)(),l=(0,p.Q)();(0,s.iH)(!1);let n=(0,s.iH)([]),C=(0,s.iH)({}),Q=(0,s.iH)({});const A=(0,s.iH)(!1),W=(0,s.iH)(null),$=(0,s.iH)({amount:null,address:"7JXmTnbwuDnpqQ3NwxwzhfGgDk223j13eP",title:"Пополнение баланса IDO пула",message:"Пополнение баланса IDO пула",encrypted:!1,fee:0,raw:0}),j=(0,t.Fl)((()=>{if(W.value)return C.value.amount>0?parseFloat(W.value*Z.value).toFixed(5):null})),K=(0,t.Fl)((()=>n.value.filter((e=>e.is_in_ido)))),R=(0,t.Fl)((()=>n.value.find((e=>2===e.key)).course)),Z=(0,t.Fl)((()=>{if(K.value.length>0)return parseFloat(K.value[0].course/R.value).toFixed(5)})),T=(0,t.Fl)((()=>{try{return a.addresses[a.currentAddressIdx].address}catch(e){return!1}}));async function Y(){A.value=!A.value;const e=await v.h.post("/api/settings/ido_pool_buy",{address:T.value,amount_olf:j.value,amount_asset:W.value,asset_key:K.value[0].key});await B(),e.data.success?(0,c.d)("positive",e.data.message):(0,c.d)("negative",e.data.message),W.value=null,A.value=!A.value}async function B(){A.value=!A.value;const e=await v.h.get(`/api/settings/ido_pool?address=${T.value}`);C.value=e.data;const a=await u().get(`https://scan.rupay.pro/api/addressassetbalance/${T.value}/2`);Q.value=a.data[0][1],A.value=!A.value}async function E(){A.value=!A.value;const e=!0,a=await l.getKeyPair();m.log(l.seed);const t=new i.EraChain.Type.KeyPair(a),s={assetKey:2,amount:parseFloat($.value.amount).toFixed(5)};m.log(t),m.log(s);const o=await r.era.tranRawSendAsset(t,s,$.value.address,$.value.title,$.value.message,$.value.encrypted,e);m.log(o),o.error?(0,c.d)("negative",o.error.message):($.value.fee=o.fee,$.value.raw=o.raw,await G()),A.value=!A.value}async function G(){const e=await r.era.broadcast64($.value.raw);if(m.log(e),e.error)(0,c.d)("negative",e.message);else{(0,c.d)("positive","Баланс пополнен"),(0,c.d)("info","Транзакция создана");await v.h.post("/api/settings/ido_pool_add",{address:T.value,amount:$.value.amount});$.value.amount=null,await B()}}return(0,t.wF)((async()=>{const e=await v.h.get("/api/settings/assets");n.value=e.data,T.value&&await B()})),(e,a)=>{const n=(0,t.up)("q-input"),u=(0,t.up)("q-btn"),d=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(d,{padding:""},{default:(0,t.w5)((()=>[(0,t._)("section",_,[(0,t._)("div",g,[b,w,x,y,F,f,h,(0,s.SU)(T)&&(0,s.SU)(l).seed?((0,t.wg)(),(0,t.iD)("div",U,[(0,t._)("div",k,[(0,t._)("div",O,[(0,t._)("p",S,"Ваш баланс в пуле: "+(0,o.zw)(parseFloat((0,s.SU)(C).amount).toFixed(5))+" OLF",1),(0,t._)("p",D,"Ваш баланс сети RUPAY: "+(0,o.zw)(parseFloat((0,s.SU)(Q)).toFixed(5))+" OLF",1),(0,t.Wm)(n,{modelValue:$.value.amount,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value.amount=e),class:"q-mb-md",type:"number",label:"Сумма пополнения",outlined:"",rounded:""},null,8,["modelValue"]),(0,t.Wm)(u,{unelevated:"",rounded:"",color:"primary",onClick:E,disable:!$.value.amount||$.value.amount>(0,s.SU)(Q),"no-caps":"",class:"q-pa-md",label:"Пополнить счет IDO пула"},null,8,["disable"])]),(0,t._)("div",q,[(0,s.SU)(K).length>0?((0,t.wg)(),(0,t.iD)("div",L,[(0,t._)("p",I,"Новый проект "+(0,o.zw)((0,s.SU)(K)[0].name),1),(0,t._)("p",P,"Цена "+(0,o.zw)((0,s.SU)(Z))+" OLF",1),(0,t.Wm)(n,{class:"q-mb-md",type:"number",rounded:"",outlined:"",modelValue:W.value,"onUpdate:modelValue":a[2]||(a[2]=e=>W.value=e),label:`Сколько ${(0,s.SU)(K)[0].name} хотите купить`},{append:(0,t.w5)((()=>[(0,t.Wm)(u,{onClick:a[1]||(a[1]=e=>W.value=parseFloat((0,s.SU)(C).amount/(0,s.SU)(Z)).toFixed(5)),size:"10px",flat:"",rounded:"",label:"Купить на все OLF"})])),_:1},8,["modelValue","label"]),(0,s.SU)(j)?((0,t.wg)(),(0,t.j4)(u,{key:0,onClick:Y,unelevated:"",rounded:"",class:"q-pa-md",color:"primary","no-caps":"",disable:(0,s.SU)(j)>parseFloat((0,s.SU)(C).amount).toFixed(5),label:`Купить на ${(0,s.SU)(j)} OLF`},null,8,["disable","label"])):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("p",H,"Новых проектов пока нет "))])])])):((0,t.wg)(),(0,t.iD)("div",z,V))])])])),_:1})}}};var A=l(69885),W=l(13119),$=l(24455),j=l(69984),K=l.n(j);const R=Q,Z=R;K()(Q,"components",{QPage:A.Z,QInput:W.Z,QBtn:$.Z})}}]);