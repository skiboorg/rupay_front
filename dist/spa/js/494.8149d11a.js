"use strict";(self["webpackChunkrupay_front"]=self["webpackChunkrupay_front"]||[]).push([[494],{75008:(e,t,a)=>{a.d(t,{C:()=>i,d:()=>o});var n=a(13433),l=a(17779);const o=({seed:e,password:t})=>{const a={status:!0,seed:e},l=n.createCipher("aes192",t);return l.update(JSON.stringify(a),"utf8","hex")+l.final("hex")},i=({hash:e,password:t})=>{try{const a=n.createDecipher("aes192",t),l=a.update(e,"hex","utf8")+a.final("utf8"),o=JSON.parse(l);return!!o.status&&o.seed}catch(a){return l.log(a),!1}}},84494:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var n=a(59835),l=a(86970);const o={class:""},i={class:"container"},s={class:"main-grid"},u=(0,n._)("div",{class:"main-grid__text_top"},[(0,n._)("h3",{class:"main-grid__text_top_heading"},[(0,n._)("span",null,"Блокчейн "),(0,n._)("br"),(0,n.Uk)(" платформа. ")]),(0,n._)("p",{class:"main-grid__text_top_paragraph"}," Данный сайт является WEB-клиентом блокчейн-платформы RUpay. ")],-1),c={class:"auth-card"},r={class:"auth-card__buttons flex items-center justify-center"};function d(e,t,a,d,g,p){const v=(0,n.up)("q-btn"),m=(0,n.up)("Login"),_=(0,n.up)("Register"),h=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(h,{padding:""},{default:(0,n.w5)((()=>[(0,n._)("section",o,[(0,n._)("div",i,[(0,n._)("div",s,[u,(0,n._)("div",c,[(0,n._)("div",r,[(0,n.Wm)(v,{onClick:t[0]||(t[0]=e=>d.loginActive=!0),unelevated:"","no-caps":"",class:(0,l.C_)([{"not-active":!d.loginActive},"text-bold auth-card__button q-mr-xl"]),color:[d.loginActive?"primary":""],size:"26px",label:"Авторизация"},null,8,["class","color"]),(0,n.Wm)(v,{onClick:t[1]||(t[1]=e=>d.loginActive=!1),unelevated:"","no-caps":"",class:(0,l.C_)([{"not-active":d.loginActive},"text-bold auth-card__button"]),color:[d.loginActive?"":"primary"],size:"26px",label:"Регистрация"},null,8,["class","color"])]),d.loginActive?((0,n.wg)(),(0,n.j4)(m,{key:0,onSeedGood:d.setSeed},null,8,["onSeedGood"])):(0,n.kq)("",!0),d.loginActive?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(_,{key:1,onOpenLogin:d.openLogin},null,8,["onOpenLogin"]))])])])])])),_:1})}a(46727);var g=a(60499),p=a(87270),v=a(75008),m=a(18910),_=a(96928),h=a(43463);const w={key:0},y={key:0,class:"flex column justify-between"},f={class:""},b={key:1,class:"pincode-tab"},k={name:"Login",emits:["seedGood"],setup(e,{emit:t}){const a=(0,m.tv)(),l=(0,_.t)(),o=(0,h.s)(),i=(0,g.iH)(""),s=(0,g.iH)(""),u=((0,g.iH)(!0),localStorage.getItem("hash"));async function c(e){const t=(0,v.C)({hash:u,password:e});t?(i.value=t,await r()):(0,p.d)("negative","Неверный пинкод")}async function r(){o.toggleLoadingState();const e=(0,v.d)({seed:i.value,password:s.value});await l.login(i.value,e),o.toggleLoadingState(),await a.push({name:"wallet_index"})}async function d(e){s.value=e,await r()}async function k(){await l.logout()}function x(e){const a=/^[A-Za-z0-9]+$/;return!!a.test(e)&&(t("seedGood",{val:[43,44,86,87,88].includes(e.length)}),[43,44,86,87,88].includes(e.length))}return(e,t)=>{const a=(0,n.up)("q-input"),l=(0,n.up)("pin-code"),o=(0,n.up)("q-btn");return(0,g.SU)(u)?((0,n.wg)(),(0,n.iD)("div",b,[(0,n.Wm)(l,{showDigits:!1,onPincode_ready:c}),(0,n.Wm)(o,{rounded:"","no-caps":"",outline:"",flat:"",class:"full-width q-mt-md",onClick:k,size:"14px",dense:"",color:"negative",label:"Я забыл пин-код. Сбросить все данные"})])):((0,n.wg)(),(0,n.iD)("div",w,[(0,n.Wm)(a,{autofocus:"",outlined:"",rounded:"",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),color:"primary",label:"Введите Ваш сид",rules:[e=>e&&e.length>0||"Это обязательное поле",e=>x(e)||"Введен не корректный сид"]},null,8,["modelValue","rules"]),x(i.value)?((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("div",f,[(0,n.Wm)(l,{showDigits:!0,onPincode_ready:d})])])):(0,n.kq)("",!0)]))}}};var x=a(24455),q=a(13119),C=a(69984),H=a.n(C);const S=k,L=S;H()(k,"components",{QBtn:x.Z,QInput:q.Z});var D=a(99407);const A={key:0,class:""},W=(0,n._)("p",{class:"text-weight-bold text-center text-h6"},"Дополнительные соглашения",-1),U=(0,n._)("p",{class:"text-weight-bold"},"Убедитесь, что вы со всем согласны:",-1),Z=["innerHTML"],j=(0,n._)("p",null,[(0,n._)("a",{target:"_blank",href:"https://wallet.rupay.pro/rupay_user_agreement.pdf"},"Пользовательское соглашение")],-1),Q={key:1,class:""},V={key:2,class:""},P=(0,n._)("p",null,"Ваш сид:",-1),z={style:{"word-break":"break-all"},class:"text-caption bg-grey-3 q-pa-md"},I=(0,n._)("p",{class:"text-caption text-negative q-pa-md text-weight-medium"}," Скопируйте или запишите ваш сид (секретный ключ) и сохраните его в максимально защищенном месте. Ни в коем случае не делитесь и никому не сообщайте ваш сид (секретный ключ)!!! ",-1),R={name:"Register",emits:["openLogin"],setup(e,{emit:t}){const a=(0,_.t)(),o=(0,m.tv)(),i=(0,g.iH)(1),s=(0,g.iH)(""),u=((0,g.iH)(!0),(0,g.iH)(!1)),c=(0,g.iH)(!1);let r=(0,g.iH)(null);const d=(0,g.iH)([{agree:!1,text:" Я согласен с тем, что доступ к сиду и ключам, имеется только у меня.\n     При утере сида, доступ к счетам  будет <strong>невозможно</strong> восстановить "},{agree:!1,text:" Я согласен с тем, что <strong>при передаче сида</strong>  третьим лицам,\n    я могу <strong>лишиться всех средств</strong> находящихся на счетах "},{agree:!1,text:"Я <strong>прочитал и согласен</strong> с пользовательским соглашением об общих условиях использования мобильного платежного приложения «RUPAY» "}]),h=(0,n.Fl)((()=>d.value[0].agree&&d.value[1].agree&&d.value[2].agree));function w(){t("openLogin")}async function y(e){s.value=e,await f()}async function f(){u.value=!u.value,r.value=await D.EraChain.Crypt.generateSeed(),u.value=!u.value,i.value=3}async function b(){u.value=!u.value;const e=(0,v.d)({seed:r.value,password:s.value});await a.login(r.value,e),await o.push({name:"wallet_index"}),u.value=!u.value}async function k(){await(0,p.Q)(r.value,"positive","Сид скопирован"),c.value=!0}return(e,t)=>{const a=(0,n.up)("q-toggle"),o=(0,n.up)("btn"),s=(0,n.up)("pin-code"),p=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)(n.HY,null,[1===i.value?((0,n.wg)(),(0,n.iD)("div",A,[W,U,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.value,((e,t)=>((0,n.wg)(),(0,n.j4)(a,{modelValue:d.value[t].agree,"onUpdate:modelValue":e=>d.value[t].agree=e,"checked-icon":"check",color:"green","unchecked-icon":"clear",class:"text-caption q-mb-md",style:{"line-height":"110%"}},{default:(0,n.w5)((()=>[(0,n._)("p",{class:"no-margin",innerHTML:e.text},null,8,Z)])),_:2},1032,["modelValue","onUpdate:modelValue"])))),256)),j,(0,g.SU)(h)?((0,n.wg)(),(0,n.j4)(o,{key:0,label:"Продолжить",onClick:t[0]||(t[0]=e=>i.value=2),type:"submit",outline:!1})):(0,n.kq)("",!0)])):(0,n.kq)("",!0),2===i.value?((0,n.wg)(),(0,n.iD)("div",Q,[(0,n.Wm)(s,{showDigits:!0,onPincode_ready:y}),(0,n._)("div",{class:"text-center q-mt-md"},[(0,n._)("p",{class:"text-caption no-margin",onClick:w},"У меня есть сид")])])):(0,n.kq)("",!0),3===i.value?((0,n.wg)(),(0,n.iD)("div",V,[P,(0,n._)("p",z,(0,l.zw)((0,g.SU)(r)),1),(0,n.Wm)(p,{rounded:"",outline:"",onClick:k,"no-caps":"",label:"Скопировать сид",unelevated:"",color:"primary",class:"full-width q-mb-md"}),I,(0,n.Wm)(o,{label:c.value?"Продолжить":"Для продолжения скопируйте сид",disabled:!c.value,is_loading:u.value,onClick:b,type:"submit",outline:!1},null,8,["label","disabled","is_loading"])])):(0,n.kq)("",!0)],64)}}};var B=a(23175);const G=R,O=G;H()(R,"components",{QToggle:B.Z,QBtn:x.Z});const T={name:"IndexPage",components:{Register:O,Login:L},preFetch({redirect:e,router:t}){localStorage.getItem("seed")},setup(){const e=(0,g.iH)(!0),t=(0,g.iH)(!1),a=localStorage.getItem("hash");function n(e){t.value=e.val}function l(a){t.value=!1,e.value=!0}return{loginActive:e,is_seed_good:t,hash:a,setSeed:n,openLogin:l}}};var Y=a(11639),E=a(69885);const F=(0,Y.Z)(T,[["render",d]]),J=F;H()(T,"components",{QPage:E.Z,QBtn:x.Z})}}]);